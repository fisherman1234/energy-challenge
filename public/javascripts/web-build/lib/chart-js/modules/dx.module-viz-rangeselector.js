if(!DevExpress.MOD_VIZ_RANGESELECTOR){if(!window.DevExpress)throw Error("Required module is not referenced: core");if(!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(e){e.viz.rangeSelector={utils:{}}})(DevExpress),function(e){DevExpress.viz.rangeSelector.BaseVisualElement=e.Class.inherit({ctor:function(e){this._renderer=e,this._isDrawn=!1},applyOptions:function(e){this._options=e||{},this._applyOptions(this._options)},_applyOptions:function(){},redraw:function(e){var t=this;t._isDrawn?t._update(e||t._group):(t._isDrawn=t._draw(e||t._group)!==!1,e&&(t._group=e))},isDrawn:function(){return!!this._isDrawn},isInitialized:function(){return!!this._options},_draw:function(){},_update:function(e){e.clear(),this._draw(e)}})}(DevExpress),function(e,t,n){var r=t.viz.rangeSelector,i=t.utils,s=t.data.utils,o=r.utils,u=t.viz.core.ParseUtils,a=t.formatHelper,f=t.viz.core,l=100;r.consts={fontHeightRatio:.55,emptySliderMarkerText:". . ."},r.formatValue=function(e,t){var n={value:e,valueText:a.format(e,t.format,t.precision)};return String(i.isFunction(t.customizeText)?t.customizeText.call(n,n):n.valueText)},r.RangeSelector=t.ui.Component.inherit(function(){var f=5,l={size:n,margin:{left:0,top:0,right:0,bottom:0},scale:{showCustomBoundaryTicks:!0,showMinorTicks:!0,startValue:n,endValue:n,minorTickCount:n,minorTickInterval:n,majorTickInterval:n,useTicksAutoArrangement:!0,setTicksAtUnitBeginning:!0,minRange:n,maxRange:n,placeholderHeight:n,valueType:n,label:{visible:!0,format:n,precision:n,customizeText:n},marker:{visible:!0,label:{format:n,precision:n,customizeText:n}}},selectedRange:n,sliderMarker:{visible:!0,format:n,precision:n,customizeText:n,placeholderSize:n},behavior:{snapToTicks:!0,animationEnabled:!0,moveSelectedRangeByClick:!0,manualRangeSelectionEnabled:!0,allowSlidersSwap:!0,callSelectedRangeChanged:"onMovingComplete"},background:{color:"#C0BAE1",visible:!0,image:{url:n,location:"full"}},chart:{commonSeriesSettings:{type:"area",label:{visible:!1},hoverMode:"none"},equalBarWidth:!0,topIndent:.1,bottomIndent:0,valueAxis:{min:n,max:n,inverted:!1},series:n},dataSource:n,dataSourceField:"arg",redrawOnResize:!0,theme:n,selectedRangeChanged:null,incidentOccured:e.noop},c=function(e,t,i){var s=t===n?r.consts.emptySliderMarkerText:r.formatValue(t,i),u=o.getTextBBox(e,s,i.font);return{width:Math.ceil(u.width)+2*i.padding,height:Math.ceil(u.height*r.consts.fontHeightRatio)+2*i.padding+i.pointerSize}},h=function(e,t,n){var i=r.formatValue(t,n.label),s=o.getTextBBox(e,i,n.label.font);return Math.ceil(s.width/2)},p=function(e,t,n){var r={left:t.left+n.left,top:t.top+n.top,width:e.width-t.left-t.right-n.left-n.right,height:e.height-t.top-t.bottom-n.top-n.bottom};return r.width<=0&&(r.width=1),r},d=function(e){var t,n,r;return i.isNumber(e)?t=n=r=e:e&&(i.isNumber(e.height)&&(r=e.height),i.isNumber(e.width)?t=n=e.width:e.width&&(i.isNumber(e.width.left)&&(t=e.width.left),i.isNumber(e.width.right)&&(n=e.width.right))),{widthLeft:t,widthRight:n,height:r}},v=function(e,t,n,r){var i,s=0,o=0,u,a,f=0,l=0,p=0,v;return v=d(r.placeholderSize),f=v.widthLeft||0,l=v.widthRight||0,p=v.height||0,r.visible&&(i=c(e,n.startValue,r),f||(f=i.width),u=c(e,n.endValue,r),l||(l=u.width),p||(p=Math.max(i.height,u.height))),n.label.visible&&(s=h(e,n.startValue,n),o=h(e,n.endValue,n)),f=Math.max(f,s),l=Math.max(l,o),{left:f,right:l,top:p,bottom:0}},m=function(e){e&&e.empty()},g=function(e){return e._element()},y=function(e){return r.rangeSelectorFactory.createRangeContainer(e)},b=function(e,t){return r.rangeSelectorFactory.createTranslator(e,t)},w=function(e,t,n){return{left:t.left,top:t.top,right:e.width-t.width-t.left,bottom:e.height-t.height-t.top+n,width:e.width,height:e.height}},E=function(e){var t=e.option("renderer");return t?t:t=r.rangeSelectorFactory.createRenderer()},S=function(e){return r.rangeSelectorFactory.createThemeManager(e)},x=function(t,n){var r=[e.type(t),e.type(n)];return e.inArray(),e.inArray("date",r)!=-1?"datetime":e.inArray("number",r)!=-1?"numeric":""},T=function(e){var t,n=e._dataSource&&e._dataSource.items(),i=e.option("scale"),s=i.valueType;return s||(s=x(i.startValue,i.endValue)),(n||e.option("chart").series)&&(t=new r.SeriesDataSource({renderer:e.renderer,dataSource:n,valueType:(s||"").toLowerCase(),chart:e.option("chart"),dataSourceField:e.option("dataSourceField"),backgroundColor:e._userBackgroundColor,incidentOccured:e.option("incidentOccured")})),t},N=function(e,n,r){var s,o,u,a=!1,f;return i.isDefined(r.startValue)&&i.isDefined(r.endValue)?(a=r.inverted=r.startValue>r.endValue,o=a?r.endValue:r.startValue,u=a?r.startValue:r.endValue):(i.isDefined(r.startValue)||i.isDefined(r.endValue))&&(o=r.startValue,u=r.endValue),s=n?n.getBoundRange():new t.viz.charts.Range,f=i.isDate(o)&&i.isDate(u)&&o.getTime()===u.getTime(),o===u||f||(s.invertX=a,s.getBoundRange({minX:o,maxX:u,minVisibleX:o,maxVisibleX:u})),s.isDefinedX()||(f&&(r.valueType="numeric"),s.setStubDataX(r.valueType)),s},C=function(e,t,n){var r,i=t.label.visible;return t.placeholderHeight?t.placeholderHeight:(r=o.getTextBBox(e,"0",t.label.font),(i?t.label.topIndent+r.height:0)+(n?t.marker.topIndent+t.marker.separatorHeight:0))},k=function(e,t,n,s){var o=t.isEmpty,u=r.rangeSelectorFactory.getTickProvider(),a,l,c,h,p=n.getBusinessRange();return a={tickInterval:o?0:e.option("scale").minorTickInterval,showCustomBoundaryTicks:t.showCustomBoundaryTicks,minorTickCount:t.minorTickCount},l={textOptions:{align:"center",font:t.label.font},renderer:e.renderer,getText:function(e){return r.formatValue(e,t.label)},translator:n,isStartTickGenerated:!i.isDefined(e.option("scale").majorTickInterval),tickInterval:t.majorTickInterval,textSpacing:f,setTicksAtUnitBeginning:t.setTicksAtUnitBeginning,useTicksAutoArrangement:t.useTicksAutoArrangement,hideLabels:o},c=o?p.minX:t.startValue,h=o?p.maxX:t.endValue,u.getFullTicks(c,h,s,l,a)},L=function(e,t,n){var i=r.rangeSelectorFactory.getTickProvider(),s=i.getTickIntervals(e.startValue,e.endValue,t,{tickInterval:e.majorTickInterval,incidentOccured:n},{tickInterval:e.minorTickInterval,incidentOccured:n});e.minorTickInterval=s.minorTickInterval,e.majorTickInterval=s.majorTickInterval},A=function(e,t,r,s,o){var u=i.isDefined(r.minVisibleX)?r.minVisibleX:r.minX,f=i.isDefined(r.maxVisibleX)?r.maxVisibleX:r.maxX,l;t&&!t.isEmpty()&&(o.startValue=o.inverted?f:u,o.endValue=o.inverted?u:f),l=i.isDate(o.startValue)&&i.isDate(o.endValue)&&o.startValue.getTime()===o.endValue.getTime()||o.startValue===o.endValue,o.isEmpty=!i.isDefined(o.startValue)||!i.isDefined(o.endValue)||l||o.valueType==="string",o.isEmpty?o.startValue=o.endValue=n:(L(o,s,e.option("incidentOccured")),o.valueType!=="datetime"||i.isDefined(o.label.format)||(o.label.format=o.marker.visible?i.getDateUnitInterval(o.majorTickInterval):a.getDateFormatByTickInterval(o.startValue,o.endValue,o.majorTickInterval)))},O=function(t,n,r){var s=e.extend(!0,{},t.option("sliderMarker")),o;return s.format||(!t.option("behavior").snapToTicks&&i.isNumber(n.startValue)&&(o=Math.abs(n.endValue-n.startValue),s.format="fixedPoint",s.precision=i.getSignificantDigitPosition(o/r)),n.valueType==="datetime"&&(n.marker.visible?s.format=i.getDateUnitInterval(i.isDefined(n.minorTickInterval)&&n.minorTickInterval!==0?n.minorTickInterval:n.majorTickInterval):i.isDefined(n.startValue)&&i.isDefined(n.endValue)&&(s.format=a.getDateFormatByTickInterval(n.startValue,n.endValue,n.minorTickInterval!==0?n.minorTickInterval:n.majorTickInterval)))),s},M=function(e){return e.valueType=="datetime"&&e.marker.visible},_=function(e,t){var n=t.minorTickInterval||t.majorTickInterval;e=e.getBoundRange({intervalX:n})},D=function(t,r){var s=e.extend(!0,{},t.option("scale")),o=t.option("incidentOccured"),a=0,f=new u({incidentOccured:o}),l=f.correctValueType((s.valueType||"").toLowerCase()),c;return(r&&(l=r.getCalculatedValueType()||l),l||(l=x(s.startValue,s.endValue)||"numeric"),s.valueType=l,s.valueType==="string")?(o("The type of the arguments from the data source is not supported."),s):(c=f.getParser(l,"scale"),i.isDefined(s.startValue)&&(a=c(s.startValue),i.isDefined(a)?s.startValue=a:(s.startValue=n,o.call(null,'The value of the "startValue" option is not valid.'))),i.isDefined(s.endValue)&&(a=c(s.endValue),i.isDefined(a)?s.endValue=a:(s.endValue=n,o.call(null,'The value of the "endValue" option is not valid.'))),s.parser=c,s)},P=function(e,t,n){var r=e.option("size")||{};t.height||r.height===0||(t.height=n.valueType==="datetime"&&n.marker.visible!==!1?160:120),t.width||r.width===0||(t.width=400)},H=function(e){var t,r,i,s,o,u,a,f,l=e.container,c;if(e._isUpdating=!0,o=j(e),e._actualSize=o,r=T(e),e._scaleOptions=D(e,r),P(e,o,e._scaleOptions),!(o.width&&o.height&&l.is(":visible"))){e.stopRedraw=!0,e.option("incidentOccured")("RangeSelector can not be drawn as container is not visible");return}e.stopRedraw=!1,F(e,o),e._updateLoadIndicator(n,e.canvas.width,e.canvas.height),i=N(e,r,e._scaleOptions),A(e,r,i,o.width,e._scaleOptions),_(i,e._scaleOptions),a=O(e,e._scaleOptions,o.width),f=q(e,e._scaleOptions),u=v(e.renderer,o,e._scaleOptions,a),t=p(o,e.option("margin"),u),s=C(e.renderer,e._scaleOptions,M(e._scaleOptions)),e.translator=b(i,w(o,t,s)),e._scaleOptions.ticksInfo=k(e,e._scaleOptions,e.translator,t.width),r&&r.adjustSeriesDimensions(e.translator),e.rangeContainer.applyOptions({canvas:t,scaleLabelsAreaHeight:s,sliderMarkerSpacing:u,translator:e.translator,selectedRange:f,scale:e._scaleOptions,behavior:e.option("behavior"),background:e.option("background"),chart:e.option("chart"),seriesDataSource:r,sliderMarker:a,sliderHandle:e.option("sliderHandle"),shutter:e.option("shutter"),selectedRangeChanged:B(e),setSelectedRange:function(t){e.setSelectedRange(t)}}),e._isUpdating=!1},B=function(e){return function(t,n){var r=e.option("selectedRangeChanged");e.option("selectedRange",t),r&&!n&&r(t)}},j=function(e){var t=e.container,n=e.option("size")||{},r={width:n.width,height:n.height};return t&&(r.width||(r.width=t.width()),r.height||(r.height=t.height())),e.canvas=r,r},F=function(e,t){var n=e.renderer;n.isInitialized()?n.getRoot().applySettings({width:t.width,height:t.height}):(n.recreateCanvas(t.width,t.height),n.draw(e.container[0]))},I=function(e,t){var n;!e.option("chart").theme&&t&&t.theme&&(n=t.theme,n&&(typeof n=="object"&&(n=n.chart||{},n.name=t.theme.name),e.option("chart").theme=n))},q=function(e,t){var n=e.option("selectedRange"),r=t.parser||function(){return null},s=function(n,s){var o,u=t[s];return i.isDefined(n)&&(o=r(n)),i.isDefined(o)?u=o:e.option("incidentOccured").call(null,"The "+s+' field of the "selectedRange" configuration object is not valid.'),u};return n?{startValue:s(n.startValue,"startValue"),endValue:s(n.endValue,"endValue")}:{startValue:t.startValue,endValue:t.endValue}},R=function(e){var t=e._actualSize,n=j(e);return t&&(t.width!==n.width||t.height!==n.height)},U=function(e){return t.utils.createResizeHandler(function(){R(e)&&e._render(!0)})};return{_defaultOptions:function(){return l},_dataSourceOptions:function(){return{paginate:!1,_preferSync:!0}},_init:function(){var t=this;t.container=g(t),m(t.container),t.renderer=E(t),t.rangeContainer=y(t.renderer),t.option("redrawOnResize")===!0&&i.windowResizeCallbacks.add(U(t)),e.isFunction(t.option("incidentOccured"))||t.option("incidentOccured",e.noop),t._reinitDataSource()},_reinitDataSource:function(){this._refreshDataSource()},_initOptions:function(t){var n=this,r;this._optionsInitializing=!0,t=t||{},n._userOptions=e.extend(!0,{},t),r=S(t.theme),r.setBackgroundColor(t.containerBackgroundColor),n.option(r.applyRangeSelectorTheme(t)),I(n,t),t.background&&(n._userBackgroundColor=t.background.color)},_refresh:function(){var e=this,t=e.callBase;e._endLoading(function(){t.call(e)})},_render:function(e){this._optionsInitializing=!1;var t=this,n,r;H(t),t.stopRedraw||(e?(r=t.option("behavior"),n=r.animationEnabled,r.animationEnabled=!1,t.rangeContainer.redraw(),r.animationEnabled=n):t.rangeContainer.redraw(),!e&&(!t._dataSource||t._dataSource&&t._dataSource.isLoaded())&&t.hideLoadingIndicator())},_optionChanged:function(e,t){var n=this;this._optionsInitializing||s.compileSetter(e)(n._userOptions,t,{functionsAsIs:!0,merge:!0}),e==="dataSource"?(n._reinitDataSource(),n._invalidate()):e==="selectedRange"?n.setSelectedRange(n.option("selectedRange")):e==="selectedRangeChanged"?n.rangeContainer.slidersContainer.selectedRangeChanged=B(n):e==="containerBackgroundColor"||e==="theme"?(this._initOptions(n._userOptions),n._invalidate()):e==="loadingIndicator"?n._updateLoadIndicator(n.option("loadingIndicator")):n._invalidate()},_handleDataSourceChanged:function(){var e=this;e._endLoading(function(){e.renderer.isInitialized()&&e._render()})},getSelectedRange:function(){var e=this,t=e.rangeContainer.slidersContainer.getSelectedRange();return{startValue:t.startValue,endValue:t.endValue}},setSelectedRange:function(e){var t=this,n;!t._isUpdating&&e&&((n=t.rangeContainer.slidersContainer.getSelectedRange(),n&&n.startValue===e.startValue&&n.endValue===e.endValue)||t.rangeContainer.slidersContainer.setSelectedRange(e))},resetSelectedRange:function(e){var t=this;t.setSelectedRange({startValue:t._scaleOptions.startValue,endValue:t._scaleOptions.endValue,blockSelectedRangeChanged:e})},render:function(e){return this._render(e),this}}}()).include(t.ui.DataHelperMixin).include(f.loadIndicatorMixin.base).include(f.widgetMarkupMixin)}(jQuery,DevExpress),function(e,t){var n=t.viz.rangeSelector;n.RangeContainer=n.BaseVisualElement.inherit(function(){var e=function(e){this.callBase(e),this.slidersContainer=r(e),this.rangeView=s(e),this.scale=i(e)},t=function(e){var t=this,n=e.scale.isEmpty,r={left:e.canvas.left,top:e.canvas.top,width:e.canvas.width,height:e.canvas.height>=e.scaleLabelsAreaHeight?e.canvas.height-e.scaleLabelsAreaHeight:0};t._viewCanvas=r,t.slidersContainer.applyOptions({canvas:r,translator:e.translator,scale:e.scale,selectedRange:e.selectedRange,sliderMarker:e.sliderMarker,sliderHandle:e.sliderHandle,shutter:e.shutter,behavior:e.behavior,selectedRangeChanged:e.selectedRangeChanged,isEmpty:n}),t.rangeView.applyOptions({canvas:r,translator:e.translator,background:e.background,chart:e.chart,seriesDataSource:e.seriesDataSource,behavior:e.behavior,isEmpty:n}),t.scale.applyOptions({canvas:e.canvas,translator:e.translator,scale:e.scale,hideLabels:n,scaleLabelsAreaHeight:e.scaleLabelsAreaHeight,setSelectedRange:e.setSelectedRange})},r=function(e){return n.rangeSelectorFactory.createSlidersContainer(e)},i=function(e){return n.rangeSelectorFactory.createScale(e)},s=function(e){return n.rangeSelectorFactory.createRangeView(e)},o=function(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.right+t.left,height:e.height+t.bottom+t.top}},u=function(){var e=this,t,n,r,i,s,u=e._options.size,a=o(e._options.canvas,e._options.sliderMarkerSpacing),f=e._viewCanvas;e._clipRect=e._renderer.createClipRect(a.left,a.top,a.width,a.height).append(),t=e._renderer.createGroup({"class":"rangeContainer",clipId:e._clipRect.id}).append(),e._viewClipRect=e._renderer.createClipRect(f.left,f.top,f.width,f.height).append(),n=e._renderer.createGroup({"class":"view",clipId:e._viewClipRect.id}),n.append(t),e.rangeView.redraw(n),r=e._renderer.createGroup({"class":"slidersContainer"}),r.append(t),e.slidersContainer.redraw(r),i=e._renderer.createGroup({"class":"scale"}),i.append(t),e.scale.redraw(i),s=e._renderer.createGroup({"class":"trackers"}),s.append(t),e._trackersGroup=s,e.slidersContainer.appendTrackers(s)},a=function(){var e=this,t=o(e._options.canvas,e._options.sliderMarkerSpacing),n=e._viewCanvas;e._clipRect.updateRectangle({x:t.left,y:t.top,width:t.width,height:t.height}),e._viewClipRect.updateRectangle({x:n.left,y:n.top,width:n.width,height:n.height}),e.rangeView.redraw(),e.slidersContainer.redraw(),e.slidersContainer.appendTrackers(e._trackersGroup),e.scale.redraw()};return{ctor:e,_applyOptions:t,_draw:u,_update:a}}())}(jQuery,DevExpress),function(e,t,n){var r=t.viz.rangeSelector,i=t.formatHelper,s=t.utils,o=5;r.Scale=r.BaseVisualElement.inherit({_setupDateUnitInterval:function(t){var n,r=function(t){var n=0;return e.each(t,function(){return++n<2}),n===1},i,o=t.ticksInfo.majorTickInterval,u=t.ticksInfo.majorTicks;if(t.valueType==="datetime"){if(s.isObject(o)&&!r(o)&&s.logger.warn('More than one field is specified within the object assigned to the "tickInterval" option. Assign an object with a single field specified (days, hours or a similar one).'),u&&u.autoArrangementStep>1){s.isString(o)&&(o=s.getDateIntervalByString(o));for(n in o)o[n]*=u.autoArrangementStep,i=s.convertDateTickIntervalToMilliseconds(o);o=s.convertMillisecondsToDateUnits(i)}this.dateUnitInterval=s.getDateUnitInterval(o)}},_prepareDatesDifferences:function(e,t){var n=t,r,i;if(n==="week"&&(n="day"),n==="quarter"&&(n="month"),e[n])for(i=0;i<s.dateUnitIntervals.length;i++)if(r=s.dateUnitIntervals[i],e[r]&&(e[r]=!1,e.count--),r===n)break},_getMarkerDate:function(e,t){var n=new Date(e.getTime()),r=0;switch(t){case"quarter":r=i.getFirstQuarterMonth(e.getMonth());case"month":n.setMonth(r);case"week":case"day":n.setDate(1);case"hour":n.setHours(0,0,0,0);break;case"millisecond":n.setMilliseconds(0);break;case"second":n.setSeconds(0,0);break;case"minute":n.setMinutes(0,0,0)}return n},_drawDateMarker:function(e,t){var n,r,i,s,o;if(t.x!==null)return s=this._options.scale,this.lineOptions["class"]="dx-range-selector-date-marker",this._renderer.createLine(t.x,t.y,t.x,t.y+s.marker.separatorHeight,this.lineOptions).append(t.group),i=this._getLabel(e,t.label),n=t.x+s.tick.width+s.marker.textLeftIndent,r=t.y+s.marker.textTopIndent+s.label.font.size,this.textOptions.align="left",o=this._renderer.createText(i,n,r,this.textOptions).append(t.group),n+o.getBBox().width},_drawDateMarkers:function(e,t){var n,r,o,u,a,f=-1,l;if(this._options.scale.valueType==="datetime"&&this.visibleMarkers&&(l=[],e.length>1)){for(r=1;r<e.length;r++)o=s.getDatesDifferences(e[r-1],e[r]),this._prepareDatesDifferences(o,this.dateUnitInterval),o.count>0&&(u=this._getMarkerDate(e[r],this.dateUnitInterval),a=this.translator.translateX(u),a>f&&(a!==null&&l.push({date:u,posX:a}),f=this._drawDateMarker(u,{group:t,y:this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight+this._options.scale.marker.topIndent,x:a,label:this._getLabelFormatOptions(i.getDateFormatByDifferences(o))})));this._initializeMarkersEvents(l,t)}},_getLabelFormatOptions:function(t){return s.isDefined(this._options.scale.marker.label.format)?this._options.scale.marker.label:e.extend({},this._options.scale.marker.label,{format:t})},_calculateRangeByMarkerPosition:function(e,t,n){var r={},i,s;for(i in t)s=t[i],n.inverted?e<s.posX?r.endValue=s.date:r.startValue||(r.startValue=s.date):e>=s.posX?r.startValue=s.date:r.endValue||(r.endValue=s.date);return r.startValue=r.startValue||n.startValue,r.endValue=r.endValue||n.endValue,r},_initializeMarkersEvents:function(e,t){var n=this,i=this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight+this._options.scale.marker.topIndent,s,o,u,a,f;e.length>0&&(s=n._renderer.createRect(n._options.canvas.left,i,n._options.canvas.width,n._options.scale.marker.separatorHeight,0,{fill:"grey",stroke:"grey",opacity:1e-4}),s.append(t),s.on(r.events.start,function(t){o=r.utils.getRootOffsetLeft(n._renderer),a=r.utils.getEventPageX(t)-o,f=n._calculateRangeByMarkerPosition(a,e,n._options.scale),n._options.setSelectedRange(f)}),n._markersTracker=s)},_getLabel:function(e,t){var n={value:e,valueText:i.format(e,t.format,t.precision)};return String(s.isFunction(t.customizeText)?t.customizeText.call(n,n):n.valueText)},_drawLabel:function(e,t){var n=this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight,r=this._renderer.createText(this._getLabel(e,this._options.scale.label),this.translator.translateX(e),n,this.textOptions);r.append(t)},_drawTick:function(e,t){this.lineOptions["class"]="dx-range-selector-tick";var n=this._options.canvas.top+this._options.canvas.height-this.scaleLabelsAreaHeight,r=this.translator.translateX(e),i=this._renderer.createLine(r,this._options.canvas.top,r,n,this.lineOptions).append(t)},_redraw:function(e){for(var t=this,n=t._options.scale,r=t._renderer.createGroup(),i=t._renderer.createGroup().append(e),s=n.ticksInfo.majorTicks,o=n.ticksInfo.minorTicks,u=n.ticksInfo.customBoundaryTicks,a=t._options.hideLabels||s.hideLabels||!n.label.visible,f=0;f<s.length;f++)a||t._drawLabel(s[f],i),t._drawTick(s[f],r);if(n.showMinorTicks)for(f=0;f<o.length;f++)t._drawTick(o[f],r);for(f=0;f<u.length;f++)t._drawTick(u[f],r);r.append(e),t._drawDateMarkers(s,i)},_applyOptions:function(e){var t=e.scale,r;this.textOptions={align:"center","class":"dx-range-selector-scale",font:t.label.font,style:{"-webkit-user-select":"none"}},this.lineOptions={strokeWidth:t.tick.width,stroke:t.tick.color,strokeOpacity:t.tick.opacity},this._setupDateUnitInterval(t),this.visibleMarkers=t.marker.visible===n?!0:t.marker.visible,r=t.label.visible?t.label.topIndent+t.label.font.size:0,this.scaleLabelsAreaHeight=e.scaleLabelsAreaHeight,this.markersAreaHeight=this.scaleLabelsAreaHeight-r,this.translator=e.translator},_draw:function(e){this._redraw(e,!1)},_update:function(e){var t=this.callBase;this._markersTracker&&this._markersTracker.off(r.events.start,"**"),this.callBase=t,this.callBase(e)}})}(jQuery,DevExpress),function(e,t){var n=t.viz.rangeSelector,r=t.viz.renderers;n.rangeSelectorFactory=function(){return{createRenderer:function(e){return new r.Renderer(e)},createTranslator:function(e,n){return new t.viz.core.Translator2D(e,n)},getTickProvider:function(){return t.viz.core.tickProvider},createRangeContainer:function(e){return new n.RangeContainer(e)},createSlidersContainer:function(e){return new n.SlidersContainer(e)},createScale:function(e){return new n.Scale(e)},createSliderMarker:function(e){return new n.SliderMarker(e)},createRangeView:function(e){return new n.RangeView(e)},createThemeManager:function(e){return new n.ThemeManager(e)},createSlider:function(e,t){return new n.Slider(e,t)},createSlidersEventsManager:function(e,t,r){return new n.SlidersEventsManager(e,t,r)},createSlidersController:function(e){return new n.SlidersController(e)}}}()}(jQuery,DevExpress),function(e,t){var n=t.viz.rangeSelector,r=t.utils,i=window.navigator.msPointerEnabled||window.navigator.pointerEnabled,s=t.utils.isNumber,o=t.utils.isDate,u=0,a=1;n.SlidersContainer=n.BaseVisualElement.inherit(function(){return{_drawAreaTracker:function(e){var t=this,n,r;n=t._renderer.createRect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height,0,{fill:"grey",stroke:"grey",opacity:1e-4}),n.append(e),r=t._renderer.createRect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height,0,{fill:"grey",stroke:"grey",opacity:1e-4,style:{cursor:"pointer"}}),r.append(e),t._controller.setAreaTrackers(n,r)},_processSelectionChanged:function(e,t){var n=this,r=function(e){return e&&n._lastSelectedRange.startValue===e.startValue&&n._lastSelectedRange.endValue===e.endValue},i=n.getSelectedRange();e&&(n._options.behavior.callSelectedRangeChanged||"").toLowerCase()!=="onmoving"||!n._options.selectedRangeChanged||r(i)||(n._updateLastSelectedRange(i),typeof n._options.selectedRangeChanged=="function"&&n._options.selectedRangeChanged.call(null,i,t),e||r(i)||n.setSelectedRange(i))},_updateLastSelectedRange:function(e){e=e||this._options.selectedRange,this._lastSelectedRange={startValue:e.startValue,endValue:e.endValue}},_createSlider:function(e){return n.rangeSelectorFactory.createSlider(this._renderer,e)},_createSlidersController:function(e){return n.rangeSelectorFactory.createSlidersController(e)},_createSlidersEventsManager:function(e){var t=this;return n.rangeSelectorFactory.createSlidersEventsManager(t._renderer,e,function(e){t._processSelectionChanged(e)})},ctor:function(e){var t=this,n;t.callBase(e),n=[t._createSlider(u),t._createSlider(a)],t._controller=t._createSlidersController(n),t._eventsManager=t._createSlidersEventsManager(t._controller),t._lastSelectedRange={}},getSelectedRange:function(){return this._controller.getSelectedRange()},setSelectedRange:function(e){var t=this,n=t._options.scale,r,i,u=t._options.selectedRange;e&&(r=e.startValue,i=e.endValue),(s(n.startValue)&&s(r)||o(n.startValue)&&o(r))&&(u.startValue=r),(s(n.endValue)&&s(i)||o(n.endValue)&&o(i))&&(u.endValue=i),t._controller.applySelectedRange(u),t._controller.applyPosition(),t._processSelectionChanged(!1,e&&e.blockSelectedRangeChanged)},appendTrackers:function(e){this._controller.appendTrackers(e)},_applyOptions:function(e){var t=this;t._controller.applyOptions({translator:e.translator,canvas:e.canvas,sliderMarker:e.sliderMarker,sliderHandle:e.sliderHandle,shutter:e.shutter,scale:e.scale,behavior:e.behavior}),t._eventsManager.applyOptions({behavior:e.behavior})},_draw:function(e){var t=this,n;i&&(n=t._renderer.getRoot(),n&&(n.element.style.msTouchAction="pinch-zoom")),t._controller.redraw(e),t._drawAreaTracker(e),t._eventsManager.initialize(),t._update()},_update:function(){var e=this,t=e._options.isEmpty;e._eventsManager.setEnabled(!t),e._controller.applySelectedRange(t?{}:e._options.selectedRange),e._controller.applyPosition(e.isDrawn()),e._updateLastSelectedRange(),e._controller.redraw()}}}())}(jQuery,DevExpress),function(e,t,n){var r=t.viz.rangeSelector,i=t.utils,s=0,o=1;r.SlidersController=t.Class.inherit(function(){return{ctor:function(e){this._sliders=e,e[s].setAnotherSlider(e[o]),e[o].setAnotherSlider(e[s])},setAreaTrackers:function(e,t){this._areaTracker=e,this._selectedAreaTracker=t},applyOptions:function(e){var t=this,n=null;t._options=e,t.getSlider(s).applyOptions(e),t.getSlider(o).applyOptions(e),e.behavior.snapToTicks&&(n=e.scale.ticksInfo.fullTicks,n.length>1&&n[0]>n[n.length-1]&&(n=n.reverse())),t.getSlider(s).setAvailableValues(n),t.getSlider(o).setAvailableValues(n)},processDocking:function(e){var t=this;e!==n?t.getSlider(e).processDocking():(t.getSlider(s).processDocking(),t.getSlider(o).processDocking()),t.setTrackersCursorStyle("default"),t.applyAreaTrackersPosition()},getSelectedRangeInterval:function(){var e=this;return r.utils.getInterval(e.getSlider(s).getValue(),e.getSlider(o).getValue())},moveSliders:function(e,t){var n=this;n.getSlider(s).setPosition(n.getSlider(s).getPosition()+e,!1,t),n.applyPosition(!0)},moveSlider:function(e,t,n,r,i,o){var u=this,a=u.getSlider(e),f=a.getAnotherSlider(),l=f.getIndex(),c;a.canSwap()&&(e===s?n>f.getPosition():n<f.getPosition())&&(c=t,t||Math.abs(r)>=Math.abs(i)&&r*i<0&&(c=!0,n+=2*i,o(-i)),c&&(u.swapSliders(),f.applyPosition(!0))),a.setPosition(n,!0),a.applyPosition(!0),u.applyAreaTrackersPosition(),u.setTrackersCursorStyle("w-resize")},applySelectedAreaCenterPosition:function(e){var t=this,n=(t.getSlider(o).getPosition()-t.getSlider(s).getPosition())/2,r=t.getSelectedRangeInterval();t.getSlider(s).setPosition(e-n,!1,r),t.applyPosition(),t.processDocking()},processManualSelection:function(e,t,n){var r=this,i,u,a=[Math.min(e,t),Math.max(e,t)];i=e<t?s:o,u=e<t?o:s,r.getSlider(u).setPosition(a[u]),r.getSlider(i).setPosition(a[i]),r.getSlider(u).setPosition(a[u],!0),r.getSlider(u).startEventHandler(n),r.getSlider(i).processDocking(),r.getSlider(u).applyPosition(!0)},applySelectedRange:function(e){var t=this,n=t._options.scale.inverted;!n&&e.startValue>e.endValue||n&&e.startValue<e.endValue?(t.getSlider(s).setValue(e.endValue),t.getSlider(o).setValue(e.startValue)):(t.getSlider(s).setValue(e.startValue),t.getSlider(o).setValue(e.endValue))},getSelectedRange:function(){var e=this;return{startValue:e.getSlider(s).getValue(),endValue:e.getSlider(o).getValue()}},swapSliders:function(){var e=this;e._sliders.reverse(),e.getSlider(s).changeLocation(),e.getSlider(o).changeLocation()},applyAreaTrackersPosition:function(){var e=this,t=e.getSelectedRange(),n=e._options.scale,r=e.getSlider(o).getPosition()-e.getSlider(s).getPosition(),i={x:e.getSlider(s).getPosition(),width:r<0?0:r,y:e._options.canvas.top,height:e._options.canvas.height,style:{cursor:n.endValue-n.startValue==t.endValue-t.startValue?"default":"pointer"}};e._selectedAreaTracker.applySettings(i),e._areaTracker.applySettings({x:e._options.canvas.left,width:e._options.canvas.width,y:e._options.canvas.top,height:e._options.canvas.height})},applyPosition:function(e){var t=this;t.getSlider(s).applyPosition(e),t.getSlider(o).applyPosition(e),t.applyAreaTrackersPosition()},redraw:function(e){var t=this;t.getSlider(s).redraw(e),t.getSlider(o).redraw(e)},appendTrackers:function(e){var t=this;t._areaTracker&&t._selectedAreaTracker&&(t._areaTracker.append(e),t._selectedAreaTracker.append(e)),t.getSlider(s).appendTrackers(e),t.getSlider(o).appendTrackers(e)},getSlider:function(e){return this._sliders[e]},getAreaTracker:function(){return this._areaTracker},getSelectedAreaTracker:function(){return this._selectedAreaTracker},setTrackersCursorStyle:function(e){var t=this;t._selectedAreaTracker.applySettings({style:{cursor:e}}),t._areaTracker.applySettings({style:{cursor:e}})}}}())}(jQuery,DevExpress),function(e,t,n){var r=t.viz.rangeSelector,i=t.utils,s=function(){var e=window,t="ontouchstart"in e,n=e.navigator.msPointerEnabled,i=e.navigator.pointerEnabled;r.events={start:i?"pointerdown":n?"MSPointerDown":t?"touchstart mousedown":"mousedown",move:i?"pointermove":n?"MSPointerMove":t?"touchmove mousemove":"mousemove",end:i?"pointerup pointercancel":n?"MSPointerUp MSPointerCancel":t?"touchend mouseup":"mouseup"}};s();var o=10,u=0,a=1;r.SlidersEventsManager=t.Class.inherit(function(){var t=function(e){return r.utils.getRootOffsetLeft(e._renderer)},i=function(e){return r.utils.getEventPageX(e)},s=function(e){var t=e||window.event,r=t.originalEvent,i=t.touches,s=r?r.pointerType:!1,o=r?r.touches:!1,u=t.which===n&&t.button===1,a=r&&s!==n&&(s===(r.MSPOINTER_TYPE_TOUCH||"touch")||s===(r.MSPOINTER_TYPE_MOUSE||"mouse")&&r.buttons===1),f=u||t.which===1,l=i&&i.length>0||o&&o.length>0;return f||a||l},f=function(e){var t=e.originalEvent,n=e.touches,r=t?t.touches:!1;return n&&n.length>1||r&&r.length>1||null},l=function(e){return e&&e.type&&e.type.indexOf("touch")===0},c=function(n,o){var u=n._renderer,a,c=n._slidersController,h=n._processSelectionChanged,p=c.getSlider(o),d=p.getAnotherSlider(),v,m,g;p.startEventHandler=function(e){n._enabled&&s(e)&&!g&&(v=this===p.getSliderTracker().element,g=!0,a=l(e),m=i(e)-p.getPosition()-t(n),f(e)||(e.stopPropagation(),e.preventDefault()))},p.on(r.events.start,p.startEventHandler),e(document).on(r.events.end,function(){g&&(g=!1,c.processDocking(),h(!1))}),e(document).on(r.events.move,function(e){var r,o,u,d=t(n),y,b=p.getIndex();a===l(e)&&(!s(e,!0)&&g?(g=!1,c.processDocking(),h(!1)):g&&(f(e)||e.preventDefault(),o=i(e),y=o-m-d,u=o-p.getPosition()-d,c.moveSlider(b,v,y,u,m,function(e){m=e}),h(!0)))})},h=function(t){var n=t._renderer,o,a=t._slidersController,c=t._processSelectionChanged,h=a.getSelectedAreaTracker(),p=!1,d,v;h.on(r.events.start,function(e){t._enabled&&s(e)&&!p&&(p=!0,o=l(e),d=i(e)-a.getSlider(u).getPosition(),v=a.getSelectedRangeInterval(),f(e)||(e.stopPropagation(),e.preventDefault()))}),e(document).on(r.events.end,function(){p&&(p=!1,a.processDocking(),c(!1))}),e(document).on(r.events.move,function(e){var t,n;o===l(e)&&(p&&!s(e)&&(p=!1,a.processDocking(),c(!1)),p&&(f(e)||e.preventDefault(),n=i(e),t=n-a.getSlider(u).getPosition()-d,a.moveSliders(t,v),c(!0)))})},p=function(n){var u=n._renderer,a,f=n._slidersController,c=n._processSelectionChanged,h=f.getAreaTracker(),p=!1,d=!1,v;h.on(r.events.start,function(e){n._enabled&&s(e)&&!p&&(p=!0,a=l(e),v=i(e))}),e(document).on(r.events.end,function(e){var r;p&&(r=i(e),n._options.behavior.moveSelectedRangeByClick&&Math.abs(v-r)<o&&f.applySelectedAreaCenterPosition(r-t(n)),p=!1,c(!1))}),e(document).on(r.events.move,function(e){var r,u,h,d=t(n);a===l(e)&&(p&&!s(e)&&(p=!1,c(!1)),p&&(r=i(e),n._options.behavior.manualRangeSelectionEnabled&&Math.abs(v-r)>=o&&(u=v-d,h=r-d,f.processManualSelection(u,h,e),p=!1,c(!0))))})};return{ctor:function(e,t,n){this._renderer=e,this._slidersController=t,this._processSelectionChanged=n,this._enabled=!0},applyOptions:function(e){this._options=e},initialize:function(){var e=this;e._renderer.isInitialized()&&(h(e),p(e),c(e,u),c(e,a))},setEnabled:function(e){this._enabled=e}}}())}(jQuery,DevExpress),function(e,t,n){var r=t.viz.rangeSelector,i=t.utils,s="ontouchstart"in window,o=window.navigator.msPointerEnabled||window.navigator.pointerEnabled,u={duration:250},a=8,f=20,l=0,c=1;r.Slider=r.BaseVisualElement.inherit(function(){return{_createSlider:function(){var e=this,t,n,r=e._options.sliderHandle;return n=e._renderer.createGroup({"class":"slider"}),n.applySettings({translateX:e._options.canvas.left,translateY:e._options.canvas.top}),t=e._renderer.createLine(0,0,0,e._options.canvas.height,{"class":"dx-range-selector-slider",strokeWidth:r.width,stroke:r.color,strokeOpacity:r.opacity}),t.append(n),n.setValid=function(n){t.applySettings({stroke:n?e._options.sliderHandle.color:e._options.sliderMarker.invalidRangeColor})},n.updateHeight=function(){t.applySettings({points:[0,0,0,e._options.canvas.height]})},n.applyOptions=function(e){t.applySettings(e)},n},_createSliderTracker:function(){var e=this,t=e._options.sliderHandle.width,n=a<t?t:a,r=s||o?f:n,i,u;return i=e._renderer.createRect(-r/2,0,r,e._options.canvas.height,0,{fill:"grey",stroke:"grey",opacity:1e-4,style:{cursor:"w-resize"}}),u=e._renderer.createGroup({"class":"sliderTracker"}),u.applySettings({translateX:0,translateY:e._options.canvas.top}),i.append(u),u.updateHeight=function(){i.applySettings({height:e._options.canvas.height})},u},_drawSliderTracker:function(e){var t=this,n=t._createSliderTracker();n&&(n.append(e),t._sliderTracker=n)},_createSliderMarker:function(e){return r.rangeSelectorFactory.createSliderMarker(e)},_setPosition:function(e,t){var n=this,r=n._correctPosition(e),i=n._options.translator.untranslateX(r);n.setValue(i,t,!1),n._position=r},_setPositionForBothSliders:function(e,t){var r=this,s,o,u,a,f=r._options.scale.inverted;s=r.getAnotherSlider(),e=r._correctBounds(e),o=r._options.translator.untranslateX(e),u=i.addInterval(o,t),!f&&u>r._options.scale.endValue||f&&u<r._options.scale.endValue?(u=r._options.scale.endValue,a=r._options.canvas.left+r._options.canvas.width,o=i.addInterval(u,t,!0),e=r._options.translator.translateX(o)):a=r._options.translator.translateX(u),r._values&&((f?o>r._values[r._values.length-1]:o<r._values[0])?(o=r._correctBusinessValueByAvailableValues(o,!1),u=i.addInterval(o,t)):(u=r._correctBusinessValueByAvailableValues(u,!1),o=i.addInterval(u,t,!0))),s.setValue(u,n,!1),r.setValue(o,n,!1),r._position=e,s._position=a},_correctPosition:function(e){var t=this,n=t._correctInversion(e);return n=t._correctBounds(n)},_correctInversion:function(e){var t=this,n=e,r=t.getAnotherSlider().getPosition(),i=t.getIndex()===l?e>r:e<r;return i&&(n=r),n},_correctBounds:function(e){var t=this,n=e,r=t._options.canvas;return e<r.left&&(n=r.left),e>r.left+r.width&&(n=r.left+r.width),n},_correctBusinessValue:function(e,t,n){var r=this,i=r._correctBusinessValueByAvailableValues(e,n);return t&&(i=r._correctBusinessValueByMinMaxRangeFromAnotherSlider(i)),i=r._correctBusinessValueByMinRangeFromStartEndValues(i)},_correctBusinessValueByAvailableValues:function(e,t){var n=this._values;return!t&&n?r.utils.findNearValue(n,e):e},_correctBusinessValueByMinMaxRangeFromAnotherSlider:function(e){var t=this,s=e,o=t._options.scale,u=t._values,a=t.getIndex(),f=t.getAnotherSlider().getValue(),h=!0,p,d;return!o.inverted&&a===l||o.inverted&&a===c?(o.maxRange&&(p=i.addInterval(f,o.maxRange,!0)),o.minRange&&(d=i.addInterval(f,o.minRange,!0))):(o.maxRange&&(d=i.addInterval(f,o.maxRange)),o.minRange&&(p=i.addInterval(f,o.minRange))),d!==n&&s>d?(s=u?r.utils.findLessOrEqualValue(u,d):d,h=!1):p!==n&&s<p&&(s=u?r.utils.findGreaterOrEqualValue(u,p):p,h=!1),t._setValid(h),s},_correctBusinessValueByMinRangeFromStartEndValues:function(e){var t=this,n=t._values,r,s,o=!0,u=t._options.scale,a=e;return u.minRange&&(t.getIndex()===c?(r=i.addInterval(u.startValue,u.minRange,u.inverted),(!u.inverted&&a<r||u.inverted&&a>r)&&(a=r)):t.getIndex()===l&&(s=i.addInterval(u.endValue,u.minRange,!u.inverted),(!u.inverted&&a>s||u.inverted&&a<s)&&(a=s))),a},_applySliderPosition:function(e,t){var n=this,r=n._options.behavior.animationEnabled&&!t,i=n._options.canvas.top,s=n._slider;r||s.inAnimation?(s.inAnimation=!0,s.animate({translate:{x:e,y:i}},r?u:{duration:0},function(){s.inAnimation=!1}),n._sliderTracker.animate({translate:{x:e,y:i}},r?u:{duration:0})):(n._slider.applySettings({translateX:e,translateY:i}),n._sliderTracker.applySettings({translateX:e,translateY:i})),n._sliderTracker.updateHeight(),n._slider.updateHeight()},_applyShutterPosition:function(e,t){var n=this,r,i=n._shutter,s=n._options.behavior.animationEnabled&&!t,o=n.getIndex();o==l?r={x:n._options.canvas.left,y:n._options.canvas.top,width:e-n._options.canvas.left,height:n._options.canvas.height}:o==c&&(r={x:e+1,y:n._options.canvas.top,width:n._options.canvas.left+n._options.canvas.width-e,height:n._options.canvas.height}),r&&(s||i.inAnimation?(i.inAnimation=!0,i.animate(r,s?u:{duration:0},function(){i.inAnimation=!1})):i.applySettings(r))},_setValid:function(e){var t=this;t._marker&&t._marker.setValid(e),t._slider.setValid(e)},_setText:function(e){var t=this;t._marker&&t._marker.setText(e)},ctor:function(e,t){var n=this;n.callBase(e),n._index=t},getIndex:function(){return this._index},setAvailableValues:function(e){this._values=e},setAnotherSlider:function(e){this._anotherSlider=e},getAnotherSlider:function(){return this._anotherSlider},appendTrackers:function(e){var t=this;t._sliderTracker&&t._sliderTracker.append(e)},getSliderTracker:function(){return this._sliderTracker},changeLocation:function(){var e=this;e._marker&&e._marker.changeLocation(),e._index=this._index===l?c:l,e._lastPosition=null},setPosition:function(e,t,r){var i=this,s;r!==n?(s=i.getIndex()===l?i:i.getAnotherSlider(),s._setPositionForBothSliders(e,r)):i._setPosition(e,t)},getPosition:function(){return this._position},_applyOptions:function(){this._lastPosition=null},setValue:function(e,t,s){var o=this;e===n?(o._value=n,o._valuePosition=o._position=o.getIndex()===l?o._options.canvas.left:o._options.canvas.left+o._options.canvas.width,o._setText(r.consts.emptySliderMarkerText)):(o._value=o._correctBusinessValue(e,t,i.isDefined(s)?!!s:!0),o._valuePosition=o._position=o._options.translator.translateX(o._value),o._setText(r.formatValue(o._value,o._options.sliderMarker)))},getValue:function(){return this._value},canSwap:function(){var e=this,t=e._options.scale,n,r,s;if(e._options.behavior.allowSlidersSwap){if(t.minRange)if(s=e.getAnotherSlider().getValue(),e.getIndex()===l){if(r=i.addInterval(t.endValue,t.minRange,!t.inverted),!t.inverted&&s>r||t.inverted&&s<r)return!1}else if(n=i.addInterval(t.startValue,t.minRange,t.inverted),!t.inverted&&s<n||t.inverted&&s>n)return!1;return!0}return!1},processDocking:function(){var e=this;e._position=e._valuePosition,e.applyPosition(!1),e._setValid(!0)},applyPosition:function(e){var t=this,n=t.getPosition();t._lastPosition!==n&&(t._applySliderPosition(n,e),t._applyShutterPosition(n,e),t._lastPosition=n)},on:function(e,t){var n=this;n._sliderTracker.on(e,t),n._marker&&n._marker.getTracker().on(e,t)},_update:function(){var e=this;e._marker&&e._marker.applyOptions(e._options.sliderMarker),e._shutter&&e._shutter.applySettings({fill:e._options.shutter.color,fillOpacity:e._options.shutter.opacity}),e._slider&&e._slider.applyOptions({strokeWidth:e._options.sliderHandle.width,stroke:e._options.sliderHandle.color,strokeOpacity:e._options.sliderHandle.opacity})},_draw:function(e){var t=this,n,r,i,s,o,u,a=t.getIndex();i=t._renderer.createGroup({"class":"sliderArea"}),i.append(e),a===l?s=t._renderer.createRect(t._options.canvas.left,t._options.canvas.top,0,t._options.canvas.height,0):a===c&&(s=t._renderer.createRect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height,0)),s&&(s.append(i),n=t._createSlider(),n&&n.append(i),t._options.sliderMarker.visible&&(r=t._createSliderMarker({renderer:t._renderer,isLeftPointer:a===c,sliderMarkerOptions:t._options.sliderMarker}),r.draw(n)),t._shutter=s,t._slider=n,t._marker=r),t._drawSliderTracker(e)}}}())}(jQuery,DevExpress),function(e,t){var n=t.viz.rangeSelector;n.SliderMarker=t.Class.inherit(function(){var e=function(e){this._renderer=e.renderer,this._text=e.text,this._isLeftPointer=e.isLeftPointer,this._options=e.sliderMarkerOptions,this._isValid=!0,i(this,{width:10,height:10})},t=function(e){this._options=e,this.update()},r=function(e,t){return{width:Math.round(2*e._options.padding+t.width),height:Math.round(2*e._options.padding+t.height*n.consts.fontHeightRatio)}},i=function(e,t){var n=r(e,t);e._points=[],e._isLeftPointer?(e._points.push({x:0,y:0}),e._points.push({x:n.width,y:0}),e._points.push({x:n.width,y:n.height}),e._points.push({x:e._options.pointerSize,y:n.height}),e._points.push({x:0,y:n.height+e._options.pointerSize})):(e._points.push({x:0,y:0}),e._points.push({x:n.width,y:0}),e._points.push({x:n.width,y:n.height+e._options.pointerSize}),e._points.push({x:n.width-e._options.pointerSize,y:n.height}),e._points.push({x:0,y:n.height}))},s=function(e,t){var n=r(e,t);return e._isLeftPointer?{x:0,y:n.height+e._options.pointerSize}:{x:n.width-1,y:n.height+e._options.pointerSize}},o=function(e){var t=this,n=t._options.padding;t._sliderMarkerGroup=t._renderer.createGroup({"class":"sliderMarker"}),t._sliderMarkerGroup.append(e),t._area=t._renderer.createArea(t.points,{fill:t._options.color}),t._area.append(t._sliderMarkerGroup),t._label=t._renderer.createText(t._text,n,n,{font:t._options.font,style:{"-webkit-user-select":"none"}}),t._label.append(t._sliderMarkerGroup),t._tracker=t._renderer.createRect(0,0,2*n,2*n+t._options.pointerSize,0,{fill:"grey",stroke:"grey",opacity:1e-4,style:{cursor:"pointer"}}),t._tracker.append(t._sliderMarkerGroup),t._drawn=!0,t.update()},u=function(e){var t=e._label.getBBox();return!e._textHeight&&isFinite(t.height)&&(e._textHeight=t.height),{width:t.width,height:e._textHeight}},a=function(e){var t=this,n,o,f;(t._interval&&clearInterval(t._interval),delete t._interval,t._drawn)&&(t._label.updateText(t._text),n=u(t),e?delete t._textSize:(t._textSize=t._textSize||n,t._textSize=n.width>t._textSize.width||n.height>t._textSize.height?n:t._textSize,n=t._textSize,t._interval=setInterval(function(){a.call(t,[!0])},75)),o=r(t,n),f=s(t,n),t._sliderMarkerGroup.applySettings({translateX:-f.x,translateY:-f.y}),i(t,n),t._area.applySettings({points:t._points,fill:t._isValid?t._options.color:t._options.invalidRangeColor}),t._tracker.applySettings({width:o.width,height:o.height+t._options.pointerSize}),t._label.applySettings({x:t._options.padding,y:o.height-t._options.padding}))},f=function(){var e=this;return e._text},l=function(e){var t=this;t._text!==e&&(t._text=e,t.update())},c=function(e){var t=this;t._isValid=e,t.update()},h=function(){var e=this;e._isLeftPointer=!e._isLeftPointer,e.update()},p=function(){var e=this;return e._tracker};return{ctor:e,draw:o,update:a,getText:f,setText:l,changeLocation:h,applyOptions:t,getTracker:p,setValid:c}}())}(jQuery,DevExpress),function(e,t){var n=t.viz.rangeSelector;n.RangeView=n.BaseVisualElement.inherit(function(){var e=function(e){return t.viz.charts.factory.createThemeManager(e.chart.theme)};return{_draw:function(e){var t=this,n,r,i,s,o,u,a,f=t._options,l=f.isEmpty;if(u=f.seriesDataSource&&f.seriesDataSource.isShowChart()&&!l,a=f.canvas,u?i=f.seriesDataSource.getBackgroundColor():!l&&f.background.visible&&(i=f.background.color),f.background.visible&&i&&(n=t._renderer.createRect(a.left,a.top,a.width+1,a.height,0,{fill:i,"class":"dx-range-selector-background"}),n.append(e)),f.background.visible&&f.background.image&&f.background.image.url&&(r=t._renderer.createImage(a.left,a.top,a.width+1,a.height,f.background.image.url,{location:f.background.image.location}),r.append(e)),u)for(s=f.seriesDataSource.getSeries(),f.seriesDataSource.adjustSeriesDimensions(f.translator,f.chart.useAggregation),o=0;o<s.length;o++)s[o].options.seriesGroup=e,s[o].options.seriesLabelsGroup=e,s[o].options.trackerGroup=e,s[o].draw(f.translator,f.behavior&&f.behavior.animationEnabled&&t._renderer.animationEnabled())}}}())}(jQuery,DevExpress),function(e,t,n){var r=t.viz.rangeSelector,i=t.viz.charts;r.SeriesDataSource=t.Class.inherit(function(){var r=function(e){return i.factory.createThemeManager(e,"rangeSelector.chart")},s=function(n){return e.isArray(n)&&n.length>0&&(t.utils.isNumber(n[0])||t.utils.isDate(n[0]))},o=function(t){return e.map(t,function(e,t){return{arg:e,val:t}})},u=function(t,u){var a=[],f,l,c,h,p,d=r(u.chart),v=u.chart.series,m=u.chart.valueAxis&&u.chart.valueAxis.valueType,g,y,b,w,E,S;for(u.dataSource&&!v&&(s(u.dataSource)&&(u.dataSource=o(u.dataSource)),g=u.dataSourceField||"arg",v={argumentField:g,valueField:g},t._hideChart=!0),v=e.isArray(v)?v:v?[v]:[],y=e.extend(!0,{},d.theme(),u.chart),e.extend(y.commonSeriesSettings,{argumentType:u.valueType,valueType:g?u.valueType:m,incidentOccured:u.incidentOccured}),w=y.commonSeriesSettings,t._backgroundColor=u.backgroundColor!==n?u.backgroundColor:y.backgroundColor,b=0;b<v.length;b++)f=v[b],f.rotated=!1,f.argumentField=f.argumentField||w.argumentField||u.dataSourceField,c=u.dataSource,l=d.applyNextSeriesTheme(f,w),c&&c.length>0&&(E=i.factory.createSeries(f.type||w.type,u.renderer,l),E._suppressTrackers=!0,a.push(E));for(t._dataValidator=i.factory.createDataValidator(c,[a],u.incidentOccured,y.dataPrepareSettings),h=t._dataValidator.validate(),b=0;b<a.length;b++)S=a[b],S.reinitData(h);return a},a=function(t,n){var r=[],s=[];return e.each(t,function(t,n){e.inArray(n.type,s)===-1&&s.push(n.type)}),e.each(s,function(e,s){var o=new i.factory.createSeriesFamily({type:s,equalBarWidth:n});o.add(t),o.adjustSeriesValues(),r.push(o)}),r};return{ctor:function(e){var t=this;t._indent={top:e.chart.topIndent>=0&&e.chart.topIndent<1?e.chart.topIndent:0,bottom:e.chart.bottomIndent>=0&&e.chart.bottomIndent<1?e.chart.bottomIndent:0},t._valueAxis=e.chart.valueAxis||{},t._hideChart=!1,t._series=u(t,e),t._seriesFamilies=a(t._series,e.chart.equalBarWidth)},adjustSeriesDimensions:function(t,n){var r=this;n&&e.each(r._series||[],function(e,n){n.resamplePoints(t)}),e.each(r._seriesFamilies,function(){this.adjustSeriesDimensions(t)})},getBoundRange:function(){for(var t=this,r,s,o=new i.Range({minY:t._valueAxis.min,minVisibleY:t._valueAxis.min,maxY:t._valueAxis.max,maxVisibleY:t._valueAxis.max}),u,a,f,l,c=0;c<t._series.length;c++)s=t._series[c].getRangeData(),o=o.getBoundRange(s);return o.isDefined()&&(f=t._valueAxis.inverted?t._indent.top:t._indent.bottom,l=t._valueAxis.inverted?t._indent.bottom:t._indent.top,u=o.maxY-o.minY,a=(e.isNumeric(o.maxVisibleY)?o.maxVisibleY:o.maxY)-(e.isNumeric(o.minVisibleY)?o.minVisibleY:o.minY),o.minY-=u*f,o.maxY+=u*l,e.isNumeric(a)&&(o.maxVisibleY=o.maxVisibleY?o.maxVisibleY+a*l:n,o.minVisibleY=o.minVisibleY?o.minVisibleY-a*f:n),o.invertY=t._valueAxis.inverted,o.applyEqualLimitsMargins()),o},getSeries:function(){var e=this;return e._series},getBackgroundColor:function(){var e=this;return e._backgroundColor},isEmpty:function(){var e=this;return e.getSeries().length===0},isShowChart:function(){var e=this;return!e.isEmpty()&&!e._hideChart},getCalculatedValueType:function(){var e=this,t;return e._series.length&&(t=e._series[0].options.argumentType),t}}}())}(jQuery,DevExpress),function(e,t){var n=t.viz.rangeSelector,r=n.utils,i=t.utils,s=-1e3,o=function(e,t){var n;if(!e||e.length===0)return-1;for(var r=0,i=e.length-1,n=0;i-r>1;)n=r+i>>1,e[n]>t?i=n:r=n;return e[i]<=t?i:r},u=function(e,t){var n=o(e,t);return e&&n>=0&&n<e.length?e[n]:t},a=function(e,t){var n=o(e,t);return e&&n>=0&&n<e.length?(n+1<e.length&&(i.isDate(t)?e[n+1].getTime()-t.getTime()<t.getTime()-e[n].getTime()&&n++:e[n+1]-t<t-e[n]&&n++),e[n]):t},f=function(e,t){var n=o(e,t);return e&&n>=0&&n<e.length?(e[n]<t&&n+1<e.length&&n++,e[n]):t},l=function(e,t,n){var r,s,o,u,a;return i.isDate(e)?n==="year"||n==="quarter"||n==="month"?{months:t.getFullYear()*12+t.getMonth()-e.getFullYear()*12-e.getMonth()}:{milliseconds:t.valueOf()-e.valueOf()}:t-e},c=function(e){return i.getRootOffset(e).left||0},h=function(e){var t=0;return e.pageX?t=e.pageX:e.originalEvent&&e.originalEvent.pageX&&(t=e.originalEvent.pageX),e.originalEvent&&e.originalEvent.touches&&(e.originalEvent.touches.length>0?t=e.originalEvent.touches[0].pageX:e.originalEvent.changedTouches.length>0&&(t=e.originalEvent.changedTouches[0].pageX)),t},p=function(e,t,n){var r=e.createText(t,s,s,{font:n}).append(),i=r.getBBox();return r.remove(),i};r.findLessOrEqualValue=u,r.findNearValue=a,r.findGreaterOrEqualValue=f,r.getInterval=l,r.getRootOffsetLeft=c,r.getEventPageX=h,r.getTextBBox=p}(jQuery,DevExpress),function(e,t){t.viz.rangeSelector=t.viz.rangeSelector,t.viz.rangeSelector.ThemeManager=t.viz.core.BaseThemeManager.inherit({_themeSection:"rangeSelector",ctor:function(e){this.setTheme(e)},_initializeTheme:function(){this._initializeFont(this._theme.scale.label.font),this._initializeFont(this._theme.sliderMarker.font),this._initializeFont(this._theme.loadingIndicator.font)},applyRangeSelectorTheme:function(t){var n=this,r={dataSource:t.dataSource},i;return delete t.dataSource,i=e.extend(!0,{},n._theme,t),i.dataSource=r.dataSource,i},setBackgroundColor:function(e){var t=this._theme;e&&(t.containerBackgroundColor=e),t.shutter.color=t.shutter.color||t.containerBackgroundColor}})}(jQuery,DevExpress),function(e,t){var n=t.ui,r=t.viz;n.registerComponent("dxRangeSelector",r.rangeSelector.RangeSelector)}(jQuery,DevExpress),DevExpress.MOD_VIZ_RANGESELECTOR=!0};