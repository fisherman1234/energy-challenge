define(["jquery","underscore","shared/collections/modelsCache","shared/views/base","./../graphs/greenButtonConsumption","text!./history.html","text!./goalData.html"],function(e,t,n,r,i,s,o){return r.extend({initialize:function(e){this.consumption=new i,this.consumption.on("rendered",this.postRender,this)},render:function(){this.$el.html(s);var e={};return e.data={last_day:moment().dayOfYear(),duration:6},this.consumption.setElement(this.$("#full-history")).render(e),this},postRender:function(){var e={stars:this.consumption.scores.stars.length,starsTotal:n.home.get("monthly_target").stars,flags:this.consumption.scores.flags.length,flagsTotal:-n.home.get("monthly_target").flags};this.$("#goal-data").html(t.template(o,e))}})});