define(["jquery","underscore","shared/views/base","collections/greenButtonConsumptions"],function(e,t,n,r){return n.extend({initialize:function(e){this.consumption=new r,this.consumption.on("sync",this.doRender,this)},render:function(e){return this.options=e,this.$el.width(1e3),this.consumption.fetch(),this},doRender:function(){var t=e("<table/>");t.addClass("punchard");var n;$row=e("<tr/>");for(var r=0;r<24;r++){var i=e("<th/>");i.html(r),$row.append(i)}t.append($row),this.consumption.each(function(r){var i=r.get("date");i!==n&&(n=i,$row=e("<tr/>"),t.append($row));var s=e("<td/>"),o={1:"#ebf1df",2:"#c4d69e",3:"#779241"};s.css("background-color",o[r.get("fraction")]);var u=5+(r.get("consumption")-1)*6;s.html("&#9679;"),s.css("font-size",u+"px"),r.get("consumption")==3&&r.get("fraction")==1&&s.addClass("gray-hour"),r.get("consumption")==3&&r.get("fraction")==3&&s.addClass("green-hour"),$row.append(s)}),this.$el.append(t)}})});